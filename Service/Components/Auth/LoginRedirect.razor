@attribute [AllowAnonymous]
@inject NavigationManager NavigationManager
@inject AuthenticationStateProvider AuthState

@code {
    protected override async void OnAfterRender(bool firstRender)
    {
        var state = await AuthState.GetAuthenticationStateAsync();
        if (state.User!.Identity!.IsAuthenticated)
        {
            NavigationManager.NavigateTo("/");
        }
        else
        {
            NavigationManager.NavigateTo("/login");
        }
    }
}